{# This snippet creates an Additional Info Table

extras is a list of tuples of the form (key, value)

#}
{% if extras %}
  <h3>{{ _('Additional Info') }}</h3>
  <table class="table table-striped table-bordered table-condensed">
    <thead>
      <tr>
        <th scope="col">{{ _('Field') }}</th>
        <th scope="col">{{ _('Value') }}</th>
      </tr>
    </thead>
    <tbody>
      {% for extra in h.sorted_extras(pkg_dict.extras, exclude=['spatial', 'coupled-resource', 'licence']) %}
        {% set key, value = extra %}
          {% if key == "responsible-party" %}
            <tr rel="dc:relation" resource="_:extra{{ i }}">
              <th scope="row" class="dataset-label" property="rdfs:label">{{ _(key) }}</th>
              <td class="dataset-details" property="rdf:value">
                {% for responsible_party in h.parse_json(value) %}
                  <table class="table table-striped table-bordered table-condensed">
                    {% for key, value in responsible_party.iteritems() %}
                      <tr>
                        <td><b>{{ _(key) }}</b></td>
                        <td>{{ _(value) }}</td>
                      </tr>
                    {% endfor %}
                  </table>
                {% endfor %}
              </td>
            </tr>
          {% else %}
            <tr rel="dc:relation" resource="_:extra{{ i }}">
              <th scope="row" class="dataset-label" property="rdfs:label">{{ _(key) }}</th>
              <td class="dataset-details" property="rdf:value">{{ _(value) }}</td>
            </tr>
          {% endif %}
      {% endfor %}
    </tbody>
  </table>
{% endif %}
